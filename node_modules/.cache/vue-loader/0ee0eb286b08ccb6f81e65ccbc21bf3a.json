{"remainingRequest":"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huoxiyi/IdeaProjects/MissuoFrontend/src/layout/components/Sidebar/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/huoxiyi/IdeaProjects/MissuoFrontend/src/layout/components/Sidebar/index.vue","mtime":1706160678333},{"path":"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/cache-loader/dist/cjs.js","mtime":1706160675340},{"path":"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/babel-loader/lib/index.js","mtime":1706160675266},{"path":"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/ts-loader/index.js","mtime":1706160677894},{"path":"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/cache-loader/dist/cjs.js","mtime":1706160675340},{"path":"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/vue-loader/lib/index.js","mtime":1706160678107}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator'\nimport { AppModule } from '@/store/modules/app'\nimport { UserModule } from '@/store/modules/user'\nimport SidebarItem from './SidebarItem.vue'\nimport variables from '@/styles/_variables.scss'\nimport { getSidebarStatus, setSidebarStatus } from '@/utils/cookies'\nimport Cookies from 'js-cookie'\n@Component({\n  name: 'SideBar',\n  components: {\n    SidebarItem\n  }\n})\nexport default class extends Vue {\n  private restKey: number = 0\n  get name() {\n    return (UserModule.userInfo as any).name\n      ? (UserModule.userInfo as any).name\n      : JSON.parse(Cookies.get('user_info') as any).name\n  }\n  get defOpen() {\n    // const urlArr = this.$route.path.split('/')\n    // const openStr = urlArr.length > 2 ? `/${urlArr[1]}` : '/'\n    let path = ['/']\n    this.routes.forEach((n: any, i: number) => {\n      if (n.meta.roles && n.meta.roles[0] === this.roles[0]) {\n        path.splice(0, 1, n.path)\n      }\n    })\n    return path\n  }\n\n  get defAct() {\n    let path = this.$route.path\n    return path\n  }\n\n  get sidebar() {\n    return AppModule.sidebar\n  }\n\n  get roles() {\n    return UserModule.roles\n  }\n\n  get routes() {\n    let routes = JSON.parse(\n      JSON.stringify([...(this.$router as any).options.routes])\n    )\n    console.log('-=-=routes=-=-=', routes)\n    console.log('-=-=routes=-=-=', this.roles[0])\n    let menuList = []\n    let menu = routes.find(item => item.path === '/')\n    if (menu) {\n      menuList = menu.children\n    }\n    console.log('-=-=routes=-wwww=-=', routes)\n    return menuList\n  }\n\n  get variables() {\n    return variables\n  }\n\n  get isCollapse() {\n    return !this.sidebar.opened\n  }\n  private async logout() {\n    this.$store.dispatch('LogOut').then(() => {\n      // location.href = '/'\n      this.$router.replace({ path: '/login' })\n    })\n    // this.$router.push(`/login?redirect=${this.$route.fullPath}`)\n  }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/layout/components/Sidebar","sourcesContent":["<template>\n  <div>\n    <div class=\"logo\">\n      <!-- <img\n        src=\"./../../../assets/logo.png\"\n        width=\"122.5\"\n        alt=\"\"\n      > -->\n      <!-- <img\n        src=\"@/assets/login/login-logo.png\"\n        alt=\"\"\n        style=\"width: 120px; height: 31px\"\n      /> -->\n      <div v-if=\"!isCollapse\"\n           class=\"sidebar-logo\">\n        <img src=\"@/assets/login/logo.png\"\n             style=\"width: 100px; height: 40px\">\n      </div>\n      <div v-else\n           class=\"sidebar-logo-mini\">\n        <img src=\"@/assets/login/mini-logo.png\">\n      </div>\n    </div>\n    <el-scrollbar wrap-class=\"scrollbar-wrapper\">\n      <el-menu :default-openeds=\"defOpen\"\n               :default-active=\"defAct\"\n               :collapse=\"isCollapse\"\n               :background-color=\"variables.menuBg\"\n               :text-color=\"variables.menuText\"\n               :active-text-color=\"variables.menuActiveText\"\n               :unique-opened=\"false\"\n               :collapse-transition=\"false\"\n               mode=\"vertical\">\n        <sidebar-item v-for=\"route in routes\"\n                      :key=\"route.path\"\n                      :item=\"route\"\n                      :base-path=\"route.path\"\n                      :is-collapse=\"isCollapse\" />\n        <!-- <div class=\"sub-menu\">\n          <div class=\"avatarName\">\n            {{ name }}\n          </div>\n          <div class=\"img\">\n            <img\n              src=\"./../../../assets/icons/btn_close@2x.png\"\n              class=\"outLogin\"\n              alt=\"退出\"\n              @click=\"logout\"\n            />\n          </div>\n        </div> -->\n      </el-menu>\n    </el-scrollbar>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue } from 'vue-property-decorator'\nimport { AppModule } from '@/store/modules/app'\nimport { UserModule } from '@/store/modules/user'\nimport SidebarItem from './SidebarItem.vue'\nimport variables from '@/styles/_variables.scss'\nimport { getSidebarStatus, setSidebarStatus } from '@/utils/cookies'\nimport Cookies from 'js-cookie'\n@Component({\n  name: 'SideBar',\n  components: {\n    SidebarItem\n  }\n})\nexport default class extends Vue {\n  private restKey: number = 0\n  get name() {\n    return (UserModule.userInfo as any).name\n      ? (UserModule.userInfo as any).name\n      : JSON.parse(Cookies.get('user_info') as any).name\n  }\n  get defOpen() {\n    // const urlArr = this.$route.path.split('/')\n    // const openStr = urlArr.length > 2 ? `/${urlArr[1]}` : '/'\n    let path = ['/']\n    this.routes.forEach((n: any, i: number) => {\n      if (n.meta.roles && n.meta.roles[0] === this.roles[0]) {\n        path.splice(0, 1, n.path)\n      }\n    })\n    return path\n  }\n\n  get defAct() {\n    let path = this.$route.path\n    return path\n  }\n\n  get sidebar() {\n    return AppModule.sidebar\n  }\n\n  get roles() {\n    return UserModule.roles\n  }\n\n  get routes() {\n    let routes = JSON.parse(\n      JSON.stringify([...(this.$router as any).options.routes])\n    )\n    console.log('-=-=routes=-=-=', routes)\n    console.log('-=-=routes=-=-=', this.roles[0])\n    let menuList = []\n    let menu = routes.find(item => item.path === '/')\n    if (menu) {\n      menuList = menu.children\n    }\n    console.log('-=-=routes=-wwww=-=', routes)\n    return menuList\n  }\n\n  get variables() {\n    return variables\n  }\n\n  get isCollapse() {\n    return !this.sidebar.opened\n  }\n  private async logout() {\n    this.$store.dispatch('LogOut').then(() => {\n      // location.href = '/'\n      this.$router.replace({ path: '/login' })\n    })\n    // this.$router.push(`/login?redirect=${this.$route.fullPath}`)\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.logo {\n  text-align: center;\n  background-color: #ffc100;\n  padding: 15px 0 0;\n  height: 60px;\n  img {\n    display: inline-block;\n  }\n}\n.sidebar-logo-mini {\n  img {\n    width: 30px;\n    height: 30px;\n  }\n}\n.el-scrollbar {\n  height: 100%;\n  background-color: rgb(52, 55, 68);\n}\n\n.el-menu {\n  border: none;\n  height: calc(95vh - 23px);\n  width: 100% !important;\n  padding: 47px 15px 0;\n}\n</style>\n"]}]}