{"remainingRequest":"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/babel-loader/lib/index.js!/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/ts-loader/index.js??ref--14-2!/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/huoxiyi/IdeaProjects/MissuoFrontend/src/utils/requestOptimize.ts","dependencies":[{"path":"/Users/huoxiyi/IdeaProjects/MissuoFrontend/src/utils/requestOptimize.ts","mtime":1706160678336},{"path":"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/cache-loader/dist/cjs.js","mtime":1706160675340},{"path":"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/babel-loader/lib/index.js","mtime":1706160675266},{"path":"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/ts-loader/index.js","mtime":1706160677894},{"path":"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1706160675083}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removePending = exports.checkPending = exports.pending = exports.getRequestKey = void 0;\n\nvar _md = _interopRequireDefault(require(\"md5\"));\n\n//根据请求的地址，方式，参数，统一计算出当前请求的md5值作为key\nvar getRequestKey = function getRequestKey(config) {\n  if (!config) {\n    // 如果没有获取到请求的相关配置信息，根据时间戳生成\n    return (0, _md.default)(+new Date());\n  }\n\n  var data = typeof config.data === 'string' ? config.data : JSON.stringify(config.data); // console.log(config,pending,config.url,md5(config.url + '&' + config.method + '&' + data),'config')\n\n  return (0, _md.default)(config.url + '&' + config.method + '&' + data);\n}; // 存储key值\n\n\nexports.getRequestKey = getRequestKey;\nvar pending = {}; // 检查key值\n\nexports.pending = pending;\n\nvar checkPending = function checkPending(key) {\n  return !!pending[key];\n}; // 删除key值\n\n\nexports.checkPending = checkPending;\n\nvar removePending = function removePending(key) {\n  // console.log(key,'key')\n  delete pending[key];\n};\n\nexports.removePending = removePending;",{"version":3,"sources":["/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/huoxiyi/IdeaProjects/MissuoFrontend/src/utils/requestOptimize.ts"],"names":[],"mappings":";;;;;;;;;AAAA;;AAEA;AACA,IAAM,aAAa,GAAG,SAAhB,aAAgB,CAAC,MAAD,EAAW;AAC7B,MAAI,CAAC,MAAL,EAAa;AACT;AACA,WAAO,iBAAI,CAAC,IAAI,IAAJ,EAAL,CAAP;AACH;;AAED,MAAM,IAAI,GAAG,OAAO,MAAM,CAAC,IAAd,KAAuB,QAAvB,GAAkC,MAAM,CAAC,IAAzC,GAAgD,IAAI,CAAC,SAAL,CAAe,MAAM,CAAC,IAAtB,CAA7D,CAN6B,CAO7B;;AACA,SAAO,iBAAI,MAAM,CAAC,GAAP,GAAa,GAAb,GAAmB,MAAM,CAAC,MAA1B,GAAmC,GAAnC,GAAyC,IAA7C,CAAP;AACH,CATD,C,CAWA;;;;AACA,IAAM,OAAO,GAAG,EAAhB,C,CACA;;;;AACA,IAAM,YAAY,GAAG,SAAf,YAAe,CAAC,GAAD;AAAA,SAAS,CAAC,CAAC,OAAO,CAAC,GAAD,CAAlB;AAAA,CAArB,C,CACA;;;;;AACA,IAAM,aAAa,GAAG,SAAhB,aAAgB,CAAC,GAAD,EAAQ;AAC1B;AACA,SAAO,OAAO,CAAC,GAAD,CAAd;AACH,CAHD","sourcesContent":["import md5 from 'md5';\n\n//根据请求的地址，方式，参数，统一计算出当前请求的md5值作为key\nconst getRequestKey = (config) => {\n    if (!config) {\n        // 如果没有获取到请求的相关配置信息，根据时间戳生成\n        return md5(+new Date());\n    }\n\n    const data = typeof config.data === 'string' ? config.data : JSON.stringify(config.data);\n    // console.log(config,pending,config.url,md5(config.url + '&' + config.method + '&' + data),'config')\n    return md5(config.url + '&' + config.method + '&' + data);\n}\n\n// 存储key值\nconst pending = {};\n// 检查key值\nconst checkPending = (key) => !!pending[key];\n// 删除key值\nconst removePending = (key) => {\n    // console.log(key,'key')\n    delete pending[key];\n};\n\nexport {\n    getRequestKey,\n    pending,\n    checkPending,\n    removePending\n}\n"],"sourceRoot":""}]}